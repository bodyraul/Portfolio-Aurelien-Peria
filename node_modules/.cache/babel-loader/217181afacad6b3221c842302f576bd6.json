{"ast":null,"code":"import { useEffect, useState, useCallback } from \"react\";\nimport useObserver from \"./useObserver\";\n/**\n * useInView\n * @param options IntersectionObserverInit\n * @param externalState React.ComponentState[]\n */\n\nconst useInView = function () {\n  let {\n    root,\n    rootMargin,\n    threshold,\n    unobserveOnEnter,\n    target,\n    onEnter,\n    onLeave,\n    defaultInView\n  } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let externalState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  const [state, setState] = useState({\n    inView: defaultInView || false,\n    entry: null,\n    observer: null\n  });\n  const callback = useCallback((_ref, observer) => {\n    let [entry] = _ref;\n    const inThreshold = observer.thresholds.some(t => entry.intersectionRatio >= t);\n    const inView = inThreshold && entry.isIntersecting;\n    setState({\n      inView,\n      entry,\n      observer\n    }); // unobserveOnEnter\n\n    if (inView && unobserveOnEnter) {\n      observer.unobserve(entry.target);\n      observer.disconnect();\n    } // Legacy callbacks\n\n\n    if (inView) {\n      onEnter === null || onEnter === void 0 ? void 0 : onEnter(entry, observer);\n    } else {\n      onLeave === null || onLeave === void 0 ? void 0 : onLeave(entry, observer);\n    }\n  }, [onEnter, onLeave, unobserveOnEnter]);\n  const setTarget = useObserver(callback, {\n    root,\n    rootMargin,\n    threshold\n  }, [unobserveOnEnter, ...externalState]); // Legacy 'target' option\n\n  useEffect(() => {\n    if (target === null || target === void 0 ? void 0 : target.current) setTarget(target.current);\n  }, [target, setTarget]);\n  return [setTarget, state.inView, state.entry, state.observer];\n};\n\nexport default useInView;","map":{"version":3,"names":["useEffect","useState","useCallback","useObserver","useInView","root","rootMargin","threshold","unobserveOnEnter","target","onEnter","onLeave","defaultInView","externalState","state","setState","inView","entry","observer","callback","inThreshold","thresholds","some","t","intersectionRatio","isIntersecting","unobserve","disconnect","setTarget","current"],"sources":["C:/Users/aurel/OneDrive/Bureau/portfolioReact/portfolio-aurelien-peria/node_modules/react-hook-inview/dist/esm/useInView.js"],"sourcesContent":["import { useEffect, useState, useCallback, } from \"react\";\nimport useObserver from \"./useObserver\";\n/**\n * useInView\n * @param options IntersectionObserverInit\n * @param externalState React.ComponentState[]\n */\nconst useInView = ({ root, rootMargin, threshold, unobserveOnEnter, target, onEnter, onLeave, defaultInView } = {}, externalState = []) => {\n    const [state, setState] = useState({\n        inView: defaultInView || false,\n        entry: null,\n        observer: null,\n    });\n    const callback = useCallback(([entry], observer) => {\n        const inThreshold = observer.thresholds.some((t) => entry.intersectionRatio >= t);\n        const inView = inThreshold && entry.isIntersecting;\n        setState({\n            inView,\n            entry,\n            observer,\n        });\n        // unobserveOnEnter\n        if (inView && unobserveOnEnter) {\n            observer.unobserve(entry.target);\n            observer.disconnect();\n        }\n        // Legacy callbacks\n        if (inView) {\n            onEnter === null || onEnter === void 0 ? void 0 : onEnter(entry, observer);\n        }\n        else {\n            onLeave === null || onLeave === void 0 ? void 0 : onLeave(entry, observer);\n        }\n    }, [onEnter, onLeave, unobserveOnEnter]);\n    const setTarget = useObserver(callback, { root, rootMargin, threshold }, [unobserveOnEnter, ...externalState]);\n    // Legacy 'target' option\n    useEffect(() => {\n        if (target === null || target === void 0 ? void 0 : target.current)\n            setTarget(target.current);\n    }, [target, setTarget]);\n    return [setTarget, state.inView, state.entry, state.observer];\n};\nexport default useInView;\n"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,QAApB,EAA8BC,WAA9B,QAAkD,OAAlD;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMC,SAAS,GAAG,YAAyH;EAAA,IAAxH;IAAEC,IAAF;IAAQC,UAAR;IAAoBC,SAApB;IAA+BC,gBAA/B;IAAiDC,MAAjD;IAAyDC,OAAzD;IAAkEC,OAAlE;IAA2EC;EAA3E,CAAwH,uEAA3B,EAA2B;EAAA,IAAvBC,aAAuB,uEAAP,EAAO;EACvI,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC;IAC/Be,MAAM,EAAEJ,aAAa,IAAI,KADM;IAE/BK,KAAK,EAAE,IAFwB;IAG/BC,QAAQ,EAAE;EAHqB,CAAD,CAAlC;EAKA,MAAMC,QAAQ,GAAGjB,WAAW,CAAC,OAAUgB,QAAV,KAAuB;IAAA,IAAtB,CAACD,KAAD,CAAsB;IAChD,MAAMG,WAAW,GAAGF,QAAQ,CAACG,UAAT,CAAoBC,IAApB,CAA0BC,CAAD,IAAON,KAAK,CAACO,iBAAN,IAA2BD,CAA3D,CAApB;IACA,MAAMP,MAAM,GAAGI,WAAW,IAAIH,KAAK,CAACQ,cAApC;IACAV,QAAQ,CAAC;MACLC,MADK;MAELC,KAFK;MAGLC;IAHK,CAAD,CAAR,CAHgD,CAQhD;;IACA,IAAIF,MAAM,IAAIR,gBAAd,EAAgC;MAC5BU,QAAQ,CAACQ,SAAT,CAAmBT,KAAK,CAACR,MAAzB;MACAS,QAAQ,CAACS,UAAT;IACH,CAZ+C,CAahD;;;IACA,IAAIX,MAAJ,EAAY;MACRN,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAK,CAArC,GAAyC,KAAK,CAA9C,GAAkDA,OAAO,CAACO,KAAD,EAAQC,QAAR,CAAzD;IACH,CAFD,MAGK;MACDP,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAK,CAArC,GAAyC,KAAK,CAA9C,GAAkDA,OAAO,CAACM,KAAD,EAAQC,QAAR,CAAzD;IACH;EACJ,CApB2B,EAoBzB,CAACR,OAAD,EAAUC,OAAV,EAAmBH,gBAAnB,CApByB,CAA5B;EAqBA,MAAMoB,SAAS,GAAGzB,WAAW,CAACgB,QAAD,EAAW;IAAEd,IAAF;IAAQC,UAAR;IAAoBC;EAApB,CAAX,EAA4C,CAACC,gBAAD,EAAmB,GAAGK,aAAtB,CAA5C,CAA7B,CA3BuI,CA4BvI;;EACAb,SAAS,CAAC,MAAM;IACZ,IAAIS,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAACoB,OAA3D,EACID,SAAS,CAACnB,MAAM,CAACoB,OAAR,CAAT;EACP,CAHQ,EAGN,CAACpB,MAAD,EAASmB,SAAT,CAHM,CAAT;EAIA,OAAO,CAACA,SAAD,EAAYd,KAAK,CAACE,MAAlB,EAA0BF,KAAK,CAACG,KAAhC,EAAuCH,KAAK,CAACI,QAA7C,CAAP;AACH,CAlCD;;AAmCA,eAAed,SAAf"},"metadata":{},"sourceType":"module"}