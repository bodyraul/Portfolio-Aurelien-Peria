{"ast":null,"code":"import { useRef, useCallback } from \"react\";\n/**\n * useObserver\n * @param callback IntersectionObserverCallback\n * @param options IntersectionObserverInit\n * @param externalState React.ComponentState[]\n */\n\nconst useObserver = function (callback) {\n  let {\n    root,\n    rootMargin,\n    threshold\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let externalState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  const target = useRef(null);\n  const observer = useRef(null);\n  const setTarget = useCallback(node => {\n    if (target.current && observer.current) {\n      observer.current.unobserve(target.current);\n      observer.current.disconnect();\n      observer.current = null;\n    }\n\n    if (node) {\n      observer.current = new IntersectionObserver(callback, {\n        root,\n        rootMargin,\n        threshold\n      });\n      observer.current.observe(node);\n      target.current = node;\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [target, root, rootMargin, JSON.stringify(threshold), ...externalState]);\n  return setTarget;\n};\n\nexport default useObserver;","map":{"version":3,"names":["useRef","useCallback","useObserver","callback","root","rootMargin","threshold","externalState","target","observer","setTarget","node","current","unobserve","disconnect","IntersectionObserver","observe","JSON","stringify"],"sources":["C:/Users/aurel/OneDrive/Bureau/portfolioReact/portfolio-aurelien-peria/node_modules/react-hook-inview/dist/esm/useObserver.js"],"sourcesContent":["import { useRef, useCallback, } from \"react\";\n/**\n * useObserver\n * @param callback IntersectionObserverCallback\n * @param options IntersectionObserverInit\n * @param externalState React.ComponentState[]\n */\nconst useObserver = (callback, { root, rootMargin, threshold } = {}, externalState = []) => {\n    const target = useRef(null);\n    const observer = useRef(null);\n    const setTarget = useCallback((node) => {\n        if (target.current && observer.current) {\n            observer.current.unobserve(target.current);\n            observer.current.disconnect();\n            observer.current = null;\n        }\n        if (node) {\n            observer.current = new IntersectionObserver(callback, { root, rootMargin, threshold });\n            observer.current.observe(node);\n            target.current = node;\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [target, root, rootMargin, JSON.stringify(threshold), ...externalState]);\n    return setTarget;\n};\nexport default useObserver;\n"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,WAAjB,QAAqC,OAArC;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMC,WAAW,GAAG,UAACC,QAAD,EAAwE;EAAA,IAA7D;IAAEC,IAAF;IAAQC,UAAR;IAAoBC;EAApB,CAA6D,uEAA3B,EAA2B;EAAA,IAAvBC,aAAuB,uEAAP,EAAO;EACxF,MAAMC,MAAM,GAAGR,MAAM,CAAC,IAAD,CAArB;EACA,MAAMS,QAAQ,GAAGT,MAAM,CAAC,IAAD,CAAvB;EACA,MAAMU,SAAS,GAAGT,WAAW,CAAEU,IAAD,IAAU;IACpC,IAAIH,MAAM,CAACI,OAAP,IAAkBH,QAAQ,CAACG,OAA/B,EAAwC;MACpCH,QAAQ,CAACG,OAAT,CAAiBC,SAAjB,CAA2BL,MAAM,CAACI,OAAlC;MACAH,QAAQ,CAACG,OAAT,CAAiBE,UAAjB;MACAL,QAAQ,CAACG,OAAT,GAAmB,IAAnB;IACH;;IACD,IAAID,IAAJ,EAAU;MACNF,QAAQ,CAACG,OAAT,GAAmB,IAAIG,oBAAJ,CAAyBZ,QAAzB,EAAmC;QAAEC,IAAF;QAAQC,UAAR;QAAoBC;MAApB,CAAnC,CAAnB;MACAG,QAAQ,CAACG,OAAT,CAAiBI,OAAjB,CAAyBL,IAAzB;MACAH,MAAM,CAACI,OAAP,GAAiBD,IAAjB;IACH,CAVmC,CAWpC;;EACH,CAZ4B,EAY1B,CAACH,MAAD,EAASJ,IAAT,EAAeC,UAAf,EAA2BY,IAAI,CAACC,SAAL,CAAeZ,SAAf,CAA3B,EAAsD,GAAGC,aAAzD,CAZ0B,CAA7B;EAaA,OAAOG,SAAP;AACH,CAjBD;;AAkBA,eAAeR,WAAf"},"metadata":{},"sourceType":"module"}